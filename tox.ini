[tox]
envlist = py310, py311, py312, py313
skip_missing_interpreters = true

[testenv]
deps =
    pytest
    coverage
commands =
    # Run pytest with coverage tracking
    coverage run -m pytest {posargs:tests}

    # Save coverage report (unique per environment)
    coverage xml -o coverages/coverage.{envname}.xml
    coverage html -d coverages/htmlcov-{envname}
    coverage report